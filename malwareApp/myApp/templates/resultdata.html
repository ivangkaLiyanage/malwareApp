{% extends 'base.html' %}
{% load static %}

{% block content %}
  <!-- for the loading page -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="{% static 'css/result.css' %}">
  
  <!-- css for displaying none -->
  <style>
    .no-display{
      display: none;
    }
  </style>

  <!-- spinner loading -->
  <div id="spinner1" style="height: 100%;">
    <div class="d-flex justify-content-center mt-5">
      <div class="spinner-border text-success" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div> 

  

  <div id="data1"></div>
  <script>
    const spinner=document.getElementById("spinner1")
    const data=document.getElementById("data1")
    
    // loading the results after a 700s 
    $.ajax({
      type:'GET',
      // url:'http://127.0.0.1:8000/results/19',
      success: function(res){
        setTimeout(()=>{
          spinner.classList.add("no-display")
          data.innerHTML += `{% block data %}{% endblock %}`
          }, 800)
      },

      error:function(error){
        console.log("error")
      },
    })
  </script>
{% endblock %}


